<!DOCTYPE html>
<html lang="es">

<head>

 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="index.css">
 <title>Nano Team</title>

</head>

<body>
 <h1>Refrán</h1>

 <button onclick="ejecuta()">
  Ver el refrán
 </button>
 <br>
 <a href="ABC.html">x</a>

 <script>
// el async permite que la función pueda usar await y devuelva una promesa
  async function ejecuta() { //el fetch realiza una peticion de datos al servidor
   try {
    // Se conecta a servicio.php y recibe su respuesta.
    const resp = //Declaración de la variable resp
     // que contiene la respuesta del servidor.

     await fetch("servicio.php") //se usa await para esperar la respuesta
     // de la petición al servidor.

    if (resp.ok) {
     const texto =
      await resp.text()
     alert(texto)
    } else {
     throw new Error( // se crea un error si la respuesta no es correcta creando un objeto Error
      resp.statusText)
    }
   } catch (error) {
    console.error(error)
    alert(error.message)
   }
  }

 </script>

</body>

</html>